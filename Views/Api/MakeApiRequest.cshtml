@model MovieViewModel

<!-- Вывод информации о фильмах на текущей странице -->
@foreach (var movie in Model.Movies)
{
    <div class="film-card">
        <div class="film-details">
            <h2>@movie.name</h2>
            
            <!-- Центрирование постера и рейтинга КиноПоиска -->
            <div class="film-details-content">
                <img src="@movie.poster.url" alt="@movie.name" class="img-fluid" />
                <p>Рейтинг КиноПоиска: @movie.rating.kp</p>
            </div>
            <a href="@Url.Action("Detail", "Movie", new { externalId = movie.externalId.kpHD })" class="btn btn-primary">Подробный обзор</a>
            <!-- Другие детали фильма -->
        </div>
    </div>
}

<!-- Вывод информации о пагинации -->
<div class="pagination">
    @if (Model.CurrentPage > 1)
    {
        <a class="btn btn-primary" href="?page=@(Model.CurrentPage - 1)&pageSize=@Model.ItemsPerPage">Предыдущая</a>
    }
    @if (Model.CurrentPage > 9)
    {
        @for (var _page = Model.CurrentPage - 1; _page <= Math.Min(Model.TotalPages, Model.CurrentPage + 10); _page++)
        {
            @if (_page == Model.CurrentPage)
            {
                <span class="btn btn-success">@_page</span>
            }
            else
            {
                <a class="btn btn-secondary" href="?page=@_page&pageSize=@Model.ItemsPerPage">@_page</a>
            }

            @if (_page < Math.Min(Model.TotalPages, 10))
            {
                <span> | </span>
            }
        }
    }
    else
    {
        @for (var _page = 1; _page <= Math.Min(Model.TotalPages, 10); _page++)
        {
            @if (_page == Model.CurrentPage)
            {
                <span class="btn btn-success">@_page</span>
            }
            else
            {
                <a class="btn btn-secondary" href="?page=@_page&pageSize=@Model.ItemsPerPage">@_page</a>
            }

            @if (_page < Math.Min(Model.TotalPages, 10))
            {
                <span> | </span>
            }
        }
    }




    @if (Model.CurrentPage < Model.TotalPages)
    {
        <a class="btn btn-primary" href="?page=@(Model.CurrentPage + 1)&pageSize=@Model.ItemsPerPage">Следующая</a>
    }
</div>

<style>
   /* Стили для карточки фильма */
.film-card {
    border: 3px solid #000000;
    padding: 10px;
    margin: 10px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
    background-color: rgb(220, 185, 45);
}

/* Центрирование всей информации о фильме */
.film-details {
    text-align: center;
    max-width: 400px; /* Ширина блока с информацией, чтобы не было слишком широко */
    margin: 0 auto;
}

/* Центрирование постера и рейтинга КиноПоиска */
.film-details-content {
    text-align: center;
}

/* Стили для постера */
.film-details img {
    max-width: 100%;
    height: auto;
}

/* Стили для рейтинга КиноПоиска */
.film-details p {
    font-weight: bold;
}

</style>